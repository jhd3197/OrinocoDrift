{% extends "base.html" %}

{% block title %}{{ article.title }} - Advanced Car Website{% endblock %}

{% block content %}
<div class="news-detail-container">
    <nav class="breadcrumb">
        <a href="{{ url_for('news') }}">News</a> &gt; 
        {% if article.category %}
        <span>{{ article.category }}</span> &gt;
        {% endif %}
        <span>{{ article.title }}</span>
    </nav>

    <article class="news-detail">
        <header class="article-header">
            <h1>{{ article.title }}</h1>
            <div class="article-meta">
                {% if article.category %}
                <span class="category-tag">{{ article.category }}</span>
                {% endif %}
                <time datetime="{{ article.date }}">{{ article.date }}</time>
                {% if article.author %}
                <span class="author">By {{ article.author }}</span>
                {% endif %}
            </div>
        </header>

        {% if article.image_url %}
        <div class="article-image">
            <img src="{{ article.image_url }}" alt="{{ article.title }}">
        </div>
        {% endif %}

        <div class="article-content">
            {{ article.content }}
        </div>

        <footer class="article-footer">
            <div class="share-buttons">
                <button onclick="share('twitter')">Share on Twitter</button>
                <button onclick="share('facebook')">Share on Facebook</button>
                <button onclick="share('linkedin')">Share on LinkedIn</button>
            </div>
        </footer>
    </article>

    <div class="back-to-news">
        <a href="{{ url_for('news') }}">&larr; Back to News</a>
    </div>
</div>

<script>
function share(platform) {
    const url = encodeURIComponent(window.location.href);
    const title = encodeURIComponent("{{ article.title }}");
    
    let shareUrl;
    switch(platform) {
        case 'twitter':
            shareUrl = `https://twitter.com/intent/tweet?url=${url}&text=${title}`;
            break;
        case 'facebook':
            shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}`;
            break;
        case 'linkedin':
            shareUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${url}`;
            break;
    }
    
    window.open(shareUrl, '_blank', 'width=600,height=400');
}
</script>
{% endblock %}
